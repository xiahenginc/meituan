<!DOCTYPE html>

<html>
    <head>      
       
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        <link rel="stylesheet" type="text/css" href="css/index.css">
       
        <title>纪元佳品</title>
    </head>
    <body>
        <img id="image" width="100%" height="100%" />
        <button id="qrbtn">扫描二维码</button>
        <div id="qrtxt"></div>
        <button onclick="setimage()">选择图片</button>
        <script type="text/javascript">
            function setimage(){
                var x = document.getElementById("image")
                x.src = "http://localdevice/pic"
            }

            function connectWebViewJavascriptBridge(callback) {
                if (window.WebViewJavascriptBridge) {
                    callback(WebViewJavascriptBridge)
                } else {
                    document.addEventListener('WebViewJavascriptBridgeReady', function() {
                        callback(WebViewJavascriptBridge)
                    }, false)
                }
            }

            connectWebViewJavascriptBridge(function(bridge) {

                /* Init your app here */

                bridge.init(function(message, responseCallback) {

                })
                   var button = document.getElementById('qrbtn')
                   button.onclick = function(e) {
                   e.preventDefault();
                   bridge.send('qr', function responseCallback(responseData) {
                        var divtxt = document.getElementById('qrtxt')
                        divtxt.innerText = responseData
                    })
                }

            })
                
        </script>
    </body>
</html>
